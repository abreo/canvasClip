<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta name="viewport" content="width=750,user-scalable=no,target-densitydpi=device-dpi">
  <script type="text/javascript" src="canvas-clip.js"></script>
</head>

<body>
  <input type="file" id="fileCtrl" accept="image/*">
  <button id="clip">裁剪</button>
  <img src="" id="preview" alt="">
  <div id="previewContainer"></div>
  <script type="text/javascript">
  var c;
  fileCtrl.onchange = function() {
    var file = this.files[0];
    c = new CanvasClip({
      previewContainer: document.querySelector('#previewContainer'),
      source: file,
      canvasWidth: 600
    })
  }
  clip.onclick = function() {
    c.clip();
    preview.src = c.ret64;
  }
  </script>
</body>

</html>
