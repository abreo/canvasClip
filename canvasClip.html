<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>canvas裁剪demo</title>
  <meta name="viewport" content="width=750,user-scalable=no,target-densitydpi=device-dpi">
  <script type="text/javascript" src="canvas-clip.js"></script>
  <style type="text/css">
  canvas {
    margin: 60px auto;
    display: block;
  }
  </style>
</head>

<body>
  <input type="file" id="fileCtrl" accept="image/*">
  <button id="clip">裁剪</button>
  <img src="" id="preview" alt="" style="display:block">
  <div id="previewContainer"></div>
  <div id="ff" style="height:400px;background-color: red"></div>
  <script type="text/javascript">
  var c;
  fileCtrl.onchange = function() {
    var file = this.files[0];
    c = new CanvasClip({
      previewContainer: document.querySelector('#previewContainer'),
      source: file,
    })
  }
  clip.addEventListener('click', function(e) {
    c.clip();
    preview.src = c.ret64;
  }, false);
  </script>
</body>

</html>
